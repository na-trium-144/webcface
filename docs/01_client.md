# Client

API Reference → WebCFace::Client

WebCFaceのメインとなるクラスです。

まずはClientのオブジェクトを作成しましょう。
引数には一意な名前を設定してください。

```cpp
#include <webcface/webcface.h>

WebCFace::Client wcli("sample");

// または WebCFace::Client wcli;
```

Client オブジェクトを作ると別スレッドでサーバーへの接続を開始します。
通信が切断された場合は自動で再接続します。

コンストラクタに指定するのはこのクライアントの名前(Memberの名前)です。
同時に接続している他のクライアントと名前が被らないようにしてください。

コンストラクタに名前を指定しない、または空文字列の場合、読み取り専用モードになります。
この場合他のクライアントとの被りは問題ありませんがデータを送信することができなくなります。

デフォルトではlocalhostの7530ポートに接続を試みますが、サーバーのポートを変更していたり別のpcに接続する場合はコンストラクタの引数でサーバーのアドレスとポートを指定できます。

## sync

```cpp
while(true){
    // ...

    wcli.sync();
}
```

Client::sync() はデータを実際に送信する関数です。
データを受信する場合もサーバーにデータのリクエストをするためsync()が必要になります。

メインプログラムの周期実行される場所などで繰り返し呼ぶようにしてください。


sync()を呼び出すプログラムを動かしたら、WebUIを開いてみましょう。
そして右上のメニューを開き、Clientの初期化時に指定した名前がそこに表示されていれば正しく通信できています。

## 切断する

Client::close() で切断します。
またはデストラクタでも自動的に切断します。


[Tutorial](./00_tutorial.md) ←前
次→ [Member](./02_member.md)
